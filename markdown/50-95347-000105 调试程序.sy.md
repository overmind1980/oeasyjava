---
show: step
version: 1.0
enable_checker: true
---

# 调试程序🥊

## 回忆上次内容
- 我们可以建立一个批处理脚本sh
- 这个批处理脚本可以按顺序执行命令
	- 先编译javac
	- 后运行java
- 批处理脚本还可以支持参数
	- 参数可以动态决定编译运行的对象
- 然后我们就可以在vi里面
	- 另存文件
	- 强切文件
	- 完成保存、编译、运行`一条龙`
- 批处理脚本是一条条执行的
- `java`代码也是一条条执行的
- 到底是怎么一条条执行的呢？🤔

### 修改java源文件

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614840328555)

- 添加6行代码，并且给每个输出都标上标号
- `:w|!sh runcom.sh oeasy` 保存并用python解释当前程序

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614840412234)

### 观看结果

- 可以看到输出了标了号的6行
- 这6行的顺序就是按照我们标号的顺序来的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614840454382)

### 顺序执行

- 这个过程叫做`顺序执行`
- 我们的`sh`批处理脚本是`顺序执行`的
- 我们的`java`源文件也是`顺序执行`的
- 按照步骤，有先后次序的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613774810775)

### 顺序播放

- 就像我们听语音是`挨牌儿`听的
- 都排着队呢
- 有先有后的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613774852475)

- 顺序播放是按照列表`顺序播放`的
- 演奏音符也是一个个按照`顺序`演奏，才是这首歌曲
- 调换一下次序，就乱了，不是这个歌了
- 不过其实也是一种思路。。。

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613774894054)


### 按部就班

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613775039390)

- 我们的生活也是按照`时间线的线性顺序`完成的

### 讲究次第

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613775089051)

- 学习也一样
	- 要按照时间的次第
	- 一步一步来
- 啥都一样，别着急！
- 欲速则不达

### 尝试调试

- 那`java`程序到底是怎么一步步执行的呢？
- 我们可以一步一步运行么？
- 一步步运行就是`调试`
- 使用`jdb`来进行`调试`
	- `jdb`的意思是`j`ava's `d`e`b`ug

```shell
jdb oeasy
```

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614840685530)

- 所在路径需要`包含`相应的源文件和class文件
	- 源文件 `oeasy.java`
	- class `oeasy.class`


- 因为不知道哪里出的问题
- 所以一步步来执行
- 一行行执行的目的是去除`bug`，也就是`debug`
- 可是为什么把程序错误叫做 `bug`🪰 呢？

### 第一个错误 bug

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210220-1613775864374)

- 历史上第一个程序错误是因为电脑里面飞进来一只虫子`bug`
- 所以后来管调试程序错误叫做 `debug`
- 这个 `bug` 是谁找出来的呢？

### 计算之母
- 找到 `bug` 的第一个调试员或者叫程序员是一位女性
	- 和现在程序员大多是男性不同
	- 因为当时编程都得检查线路
	- 跟编织很像
	- 很容易变得一团乱麻
	- 需要很细心、有条理的人

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210811-1628645970342)

- `Grace Murray Hopper`
### 故障

- 当时格蕾丝和她的同事们正艰难地搞清楚
- 他们正在使用的马克II电脑出现了什么故障
	- 最后，他们发现一只活蛾被困在控制电路的一个电子开关中

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210916-1631788883985)

- 不要害怕 `bug`，因为 `bug` 是程序员存在的基础
- 如果没有了`bug`，那也就不需要程序员了
- 程序员本身就是 `bug` 一般的存在🪰
- 让我们来debug！🐥

### 设置断点

- `stop in oeasy.main`设置断点
- 什么是断点
	- 就是让程序中断下来的点
	- 本来一路1-6输出下来了
	- 一中断就停下了
- 断点停在哪里？
	- 停在`oeasy`这个类里面的`main`函数的第一行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614841151535)

### 步进程序

- list 是列出当前程序执行到的语句位置
- next 是步进到下一条语句位置

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614841324099)

### 完成调试

- 一路`next`下去
- 程序执行完毕了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210304-1614841618053)

## 总结
- 程序一般都是按顺序执行的
	- `sh批处理脚本程序`是按照顺序，一行行执行的
	- `java语言的程序`也是按照顺序，一行行执行的
- 我们可以`jdb oeasy`来对`oeasy.java`程序进行调试
- 调试的目的是去除`bug`
	- 别害怕`bug`
	- `bug`会有提示
	- 我们也就知道如何调试
- `class`到底是怎么在`java虚拟机`上运行的呢？🤔
- 我们下次再说！👋