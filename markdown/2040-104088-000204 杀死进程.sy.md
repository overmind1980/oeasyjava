---
show: step

version: 1.0
enable_checker: true
---

# 查看进程

## 回忆上次内容

- 我们可以把<kbd>ctrl</kbd>+<kbd>z</kbd>把当前进程切换到后台
- 用`fg`可把进程切回前台
- `ps -lf`查看进程信息
	- `java timer`大概22M🤔
- 那我可以把这个进程干掉吗？

### 首先搜索
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615636622865)

```
kill -9 pid
```

- 杀死进程！！！

### 杀死进程

```shell
#杀死进程
kill -9 PID 
```
- 搜到了一个可怕的进程叫做kill
- 他可以给指定pid的进程发送信号
- `-9`就是死亡信号
- 发过去之后那个进程就要自尽
- 没有任何进程愿意接受着这个信号
- 君要臣死，臣不得不死
- 权限大一级压死进程啊
- 但是接到了就要执行
- 阿啊阿啊阿啊·～
- 残阳如血
- 计算机的世界不相信眼泪

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615637145833)

### 多个后台

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615637302103)


- 我们开多个`java timer`进程
- 然后可以进行切换吗
- `jobs`可以看到后台的任务
	- 这样的话tomcat
	- 我的世界服务器
	- 都可以运行着
	- 切到后台在干点别的


### 指定切换

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615637405600)

- 我们可以用fg加参数的方式
- 把指定编号的进程恢复到前台 
- 注意前面的812、829分别是他们的pid
- 也可以用<kbd>ctrl</kbd>+<kbd>z</kbd>把当前进程切换到后台
- 或者用<kbd>ctrl</kbd>+<kbd>c</kbd>结束当前前台的进程
- 如果两个进程的话，占用内存会变小吗？


### 两个进程

- 我们开两个`timer`
- PID分别是1833、1885
- 然后观察到
	- 每个进程分配差不多都是2G
	- 相互之间是独立的进程
	- 分配的空间也相互独立

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615637636258)

### 具体情况

```
ps -o ppid,sz,vsz,rss,cmd
```

- 大概都是20+M
- 实际上后面那个运行的进程内存稍大
- 不知道为什么
- 猜想是分配的初始堆比较大

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210313-1615637764084)

### 株连后代

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210318-1616078212703)

- 如果一个进程的父级进程被kill了
- 那么这个进程也就不保了
- 如果2510接收到9这个信号
- 这个进程家族就连根拔起了


### 总结

- `kill -9 PID`给进程发送死亡信号
- 可以有多个后台进程
	- `jobs`查看所有作业
	- `fg %1`可以把指定的进程切回前台
	- 运行多个`java timer`的话，各个进程独立，各占22M
- 这个切进程很好用
- 不过运行进程的时候总是满屏刷
- 我想把他固定在一个地方刷
- 可能吗🤔
- 我们下次再说！👋